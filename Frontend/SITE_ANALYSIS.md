# Анализ сайта office-lib-front

Отчёт составлен по состоянию на 06.02.2026 на основе кодовой базы и проверки в браузере (localhost).

---

## 1. Назначение и аудитория

**Тип:** веб-приложение корпоративной библиотеки (офисная библиотека).

**Функции:**
- Просмотр каталога книг, новинок, популярных и рекомендуемых подборок.
- Поиск по книгам, авторам, сериям.
- Авторизация по корпоративной учётной записи (email).
- Личный кабинет: профиль, учётные данные, уведомления.
- Разделы «Мои книги», «Список желаний», «Подборки».

**Аудитория:** сотрудники компании (доступ по корпоративному аккаунту).

---

## 2. Технический стек

| Технология | Назначение |
|------------|------------|
| React 19 | UI |
| TypeScript | Типизация |
| Vite 7 | Сборка и dev-сервер |
| React Router 6 | Маршрутизация |
| TanStack Query | Запросы к API, кэш |
| Zustand | Стор авторизации |
| i18next | Локализация (ru, en, kg) |
| Axios | HTTP-клиент (токен, 401 → логин) |
| Sass (SCSS) | Стили, CSS-модули |

Архитектура — FSD-подобная: `app`, `entities`, `features`, `pages`, `shared`, `widgets`.

---

## 3. Структура интерфейса

### 3.1 Общий layout (AppLayout)

- **Шапка (Header):**
  - Бургер-меню (мобильная панель).
  - Логотип «Library» (ведёт на главную).
  - Кнопка «Каталог».
  - Поле поиска с плейсхолдером «Поиск книг, авторов, серий» и кнопкой «Искать»; при фокусе — выпадающие подсказки (например, имена авторов).
  - Блок «Мои книги» (выпадающее меню: Мои книги, Список желаний, Подборки).
  - Кнопка «Войти» или меню профиля (email, роль, ссылки на профиль/учётные данные/уведомления, выход).

- **Основная область:** контент страницы (`<main>`).

- **Подвал (Footer):**
  - Название приложения и копирайт.
  - Переключатель языка: RU | EN | KG.

### 3.2 Страницы

| Маршрут | Описание |
|---------|----------|
| `/` | Главная: карусели «Популярное», «Новинки», «Рекомендуем»; для авторизованных — «Продолжить», «Для вас», «Недавно просмотренные». |
| `/catalog` | Каталог с фильтрами (жанр, формат, язык), сортировкой и пагинацией. |
| `/book/:id` | Карточка книги, бронирование. |
| `/popular` | Популярное. |
| `/search` | Результаты поиска (query из `?q=`). |
| `/lists` | Подборки. |
| `/my` | Мои книги. |
| `/wishlist` | Список желаний. |
| `/auth/login` | Вход (первый шаг — ввод email, «Продолжить»). |
| `/auth/register` | Регистрация. |
| `/profile` | Профиль (только для авторизованных). |
| `/profile/credentials` | Вход и безопасность. |
| `/profile/notifications` | Уведомления. |

Несуществующие пути перенаправляются на `/`.

---

## 4. UX и визуал

- **Стиль:** светлый интерфейс, акцент — фиолетовый (`--primary`), скругления, тени у карточек.
- **Адаптивность:** бургер-меню, мобильная панель навигации, отзывчивые отступы (clamp, медиа-запросы).
- **Доступность:** aria-атрибуты (бургер, поиск), семантика (header, main, footer, role="search"), лейблы у полей.
- **Локализация:** три языка (ru, en, kg), интерфейс переведён через i18next.

---

## 5. Данные и API

- **Книги:** загрузка через `getBooks` / `getBookById` (entities/book); при отсутствии данных на главной используются моки.
- **Каталог:** фильтры (жанр, формат, язык), сортировка; в коде отмечено, что сортировка в API может не применяться.
- **Авторизация:** токен в sessionStorage, интерцептор Axios подставляет токен; при 401 — очистка и редирект на `/auth/login`.
- **Обложки:** `resolveCoverUrl()` с учётом Minio/localhost и относительных путей (`shared/lib/media/cover.ts`).

Конфиг: `VITE_API_BASE_URL`, `VITE_COVER_BASE_URL` (см. `shared/config/env.ts`).

---

## 6. Замечания и риски

1. **Роутер:** маршрут `/lists` объявлен дважды (строки 39 и 54 в `router/index.tsx`); достаточно одного.
2. **Каталог:** при пустом API на странице каталога отображается «Найдено: 0»; фильтры и пагинация есть, но данные могут зависеть от бэкенда.
3. **Главная:** часть блоков (рекомендации, «Продолжить», «Недавно просмотренные») захардкожена; при развитии продукта их лучше подтягивать из API.
4. **Тексты в коде:** в Header часть подписей захардкожена по-русски («Искать», «Профиль», «Выйти» и т.д.); для полной поддержки i18n их стоит вынести в `resources.ts`.
5. **ErrorFallback:** базовая заглушка; при необходимости — кнопка «Обновить» и/или интеграция с Sentry.
6. **Title страниц:** в документе отображается общий title «office-lib-front»; для SEO и UX лучше задавать разный title для каждой страницы.

---

## 7. Итог

Сайт — целостное SPA корпоративной библиотеки: понятная навигация, поиск, каталог с фильтрами, авторизация и профиль, мультиязычность и адаптивная вёрстка. Для продакшена имеет смысл устранить дублирование маршрута `/lists`, донастроить загрузку данных каталога и главной, унифицировать переводы в шапке и задать отдельные title для страниц.
